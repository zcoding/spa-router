<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>spa-router-better</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="codingcat">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="octicons/octicons.css">
    <link rel="stylesheet" href="demo/css/parse.css">
  </head>
  <body>
    <header class="container-header">
      <h1 class="text-center">spa-router-better</h1>
      <p class="text-center">A router module for building large single-page-application. <a href="https://github.com/zcoding/spa-router" class="icon-link" target="_blank"><span class="mega-octicon octicon-mark-github"></span></a></p>
      <p class="text-center">
        <a href="https://raw.githubusercontent.com/zcoding/spa-router/master/dist/iife/spa-router.js" download class="btn btn-download">Download</a>
      </p>
      <p class="text-center">or</p>
      <p class="text-center"><code class="text-code">npm install spa-router-better --save</code></p>
    </header>
    <div class="container" data-fixed>
      <table>
        <thead>
          <tr>
            <th>Current URL</th>
            <th>Matching rules</th>
            <th>Matching params</th>
            <th>Matching query</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td data-uri></td>
            <td class="text-bold" data-path></td>
            <td data-param></td>
            <td data-query></td>
          </tr>
        </tbody>
        <tbody>
          <tr>
            <td colspan="4" data-msg></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="container" data-fixed-after>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Rules</th>
            <th>URI</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><a href="#!/">Home</a></td><td>/</td><td>/</td>
          </tr>
          <tr>
            <td><a href="#!/product">Product List</a></td><td>/product</td><td>/product</td>
          </tr>
          <tr>
            <td><a href="#!/product/red-small-low">Category Product List</a></td><td>/product/:color(r.+)-:size-:price</td><td>/product/red-small-low</td>
          </tr>
          <tr>
            <td><a href="#!/product?color=red&size=small&price=low">Category Product List With Query</a></td><td>/product</td><td>/product?color=red&size=small&price=low</td>
          </tr>
          <tr>
            <td><a href="#!/product/12345">Product Detail</a></td><td>/product/:id</td><td>/product/12345</td>
          </tr>
          <tr>
            <td><a href="#!/about">About</a></td><td>/about</td><td>/about</td>
          </tr>
          <tr>
            <td><a href="#!/admin">Admin Home</a></td><td>/admin</td><td>/admin</td>
          </tr>
          <tr>
            <td><a href="#!/admin/product">Admin Product List</a></td><td>/admin/product</td><td>/admin/product</td>
          </tr>
          <tr>
            <td><a href="#!/admin/product?page=3">Admin Product List With Query</a></td><td>/admin/product</td><td>/admin/product?page=3</td>
          </tr>
          <tr>
            <td><a href="#!/admin/product/red-small-low">Admin Category Product List</a></td><td>/admin/product/:color-:size-:price</td><td>/admin/product/red-small-low</td>
          </tr>
          <tr>
            <td><a href="#!/admin/product/red-small-low?page=2">Admin Category Product List With Query</a></td><td>/admin/product/:color-:size-:price</td><td>/admin/product/red-small-low?page=2</td>
          </tr>
          <tr>
            <td><a href="#!/admin/product/add">Admin Product Add</a></td><td>/admin/product/:id</td><td>/admin/product/add</td>
          </tr>
          <tr>
            <td><a href="#!/admin/product/12345">Admin Product Edit</a></td><td>/admin/product/:id</td><td>/admin/product/12345</td>
          </tr>
          <tr>
            <td><a href="#!/notfound">Not Found</a></td><td>none</td><td>/notfound</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="container">
      <h2>How it works</h2>
      <div class="container-flexbox">
        <div class="container-flex">
          <h3 class="text-center">Define routes table</h3>
          <pre><code><span class="keyword">const</span> routesTable = {
  <span class="string">'/'</span>: [callback1, callback2],
  <span class="string">'/product'</span>: callback,
  <span class="string">'/product/:color(r.+)-:size-:price'</span>: callback,
  <span class="string">'/product/:id'</span>: callback,
  <span class="string">'/about'</span>: callback,
};

<span class="keyword">let</span> routerA = <span class="keyword">new</span> Router(routesTable);

<span class="comment">// use .mount() to dynamicly mount a sub-route</span>
routerA.mount('/admin', {
  <span class="string">'/'</span>: callback,
  <span class="string">'/product'</span>: {
    <span class="string">'/'</span>: callback,
    <span class="string">'/:color-:size-:price'</span>: callback,
    <span class="string">'/:id'</span>: callback,
    <span class="string">'/add'</span>: callback
  }
});

routerA.start({
  notFound: notFoundCallback
});

<span class="comment">// .route() & .dispatch()</span>
routerA.on(<span class="string">'/whatever/foo'</span>, callback)
  .on(<span class="string">'/whatever/bar'</span>, callback)
  .dispatch(<span class="string">'/whatever/bar'</span>);</code></pre>
        </div>
        <div class="container-flex">
          <h3 class="text-center">Parse routes table into a tree</h3>
          <div class="render-tree"><ul></ul></div>
        </div>
      </div>
    </div>
    <footer class="layout-footer">
      <p class="text-center">Need more help? <a href="https://github.com/zcoding/spa-router">Learn more from Github. <span class="octicon octicon-mark-github"></span></a></p>
      <p class="text-center">Or just <a href="https://github.com/zcoding/spa-router">download</a> and start your router.</p>
    </footer>
    <script src="dist/iife/spa-router.js"></script>
    <script src="demo/parseRouterTree.js"></script>
    <script src="demo/main.js"></script>
    <script src="demo/scrollcheck.js"></script>
  </body>
</html>
